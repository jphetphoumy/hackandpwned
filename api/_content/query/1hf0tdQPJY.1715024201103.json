{"_path":"/articles/creating-a-simple-chatbot-with-langchain-and-ollama","_dir":"articles","_draft":false,"_partial":false,"_locale":"","title":"Creating a simple chatbot with Langchain and Ollama","description":"","draft":false,"date":"06-05-2024","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"creating-a-simple-chatbot-with-langchain-and-ollama"},"children":[{"type":"text","value":"Creating a simple chatbot with Langchain and Ollama"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"article-header","props":{},"children":[]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"what-is-retrieval-augmented-generation-rag"},"children":[{"type":"text","value":"What is Retrieval-Augmented Generation (RAG) ?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Retrieval-Augmented Generation, or RAG, is this super cool tech that supercharges large language models (LLMs) like the ones we use in AI chatbots and search engines. Basically, it makes AI responses smarter by pulling in fresh, relevant info from external sources right when you need it."}]},{"type":"element","tag":"h3","props":{"id":"why-rag-rocks-for-llms"},"children":[{"type":"text","value":"Why RAG Rocks for LLMS !"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here's why you might want to consider using RAG if you're messing around with AI models:"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Keeps Things Fresh:"}]},{"type":"text","value":" RAG enables LLMs to pull in the latest data beyond their training datasets, diminishing the likelihood of delivering outdated or inaccurate responses."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Keeps it Real:"}]},{"type":"text","value":" Instead of making up answers (yeah, AI does that sometimes), RAG helps keep the AIâ€™s responses grounded in actual, factual data."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Easy to Implement:"}]},{"type":"text","value":" You don't need to be a coding wizard to get RAG rolling, and it doesn't cost an arm and a leg to update your AI model."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In short, RAG is like giving your AI a mini-upgrade with each query, ensuring it's always on its A-game when answering questions or helping out users. It's a game-changer for making AI interactions a lot more reliable and useful."}]},{"type":"element","tag":"h2","props":{"id":"installation-of-the-tools-ollama-langchain-and-gradio"},"children":[{"type":"text","value":"Installation of the tools: Ollama, Langchain and Gradio"}]},{"type":"element","tag":"h3","props":{"id":"creating-the-python-project"},"children":[{"type":"text","value":"Creating the python project"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"First, we will use "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"poetry"}]},{"type":"text","value":" to create our python project."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Use the following command to initialize your project:"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes catppuccin-mocha","code":"poetry new ai-chatbot-rag\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#89B4FA;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"poetry"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E3A1"},"children":[{"type":"text","value":" new"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E3A1"},"children":[{"type":"text","value":" ai-chatbot-rag\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Next, let's understand the tools we will use for our application. Let's start by Ollama !"}]},{"type":"element","tag":"h3","props":{"id":"ollama"},"children":[{"type":"text","value":"Ollama"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Ollama is the easiest solution to run LLM locally. It's as simple as running "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"docker pull"}]},{"type":"text","value":". To get started with Ollama, you can download it on the "},{"type":"element","tag":"a","props":{"href":"https://ollama.com/download","rel":["nofollow"]},"children":[{"type":"text","value":"official website"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To use a local LLM with ollama, simply use "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ollama pull <model-name>"}]},{"type":"text","value":". If we want to use the new "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"LLAMA 3"}]},{"type":"text","value":" model, we can run the following command :"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes catppuccin-mocha","code":"ollama pull llama3\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#89B4FA;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"ollama"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E3A1"},"children":[{"type":"text","value":" pull"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E3A1"},"children":[{"type":"text","value":" llama3\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When the model download is complete, you can use the model with the following command:"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes catppuccin-mocha","code":"ollama run llama3\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#89B4FA;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"ollama"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E3A1"},"children":[{"type":"text","value":" run"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E3A1"},"children":[{"type":"text","value":" llama3\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can also serve an api endpoint and this is what we will use for our chatbot !."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To do this, run the following command:"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes catppuccin-mocha","code":"ollama serve\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#89B4FA;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"ollama"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E3A1"},"children":[{"type":"text","value":" serve\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"langchain"},"children":[{"type":"text","value":"Langchain"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To supercharge our AI app and make things easier, we will use the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Langchain"}]},{"type":"text","value":" framework."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This framework have some nice abstraction that will make it easier to create our RAG application."}]},{"type":"element","tag":"h4","props":{"id":"getting-started-with-langchain"},"children":[{"type":"text","value":"Getting Started with Langchain"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here's the quick guide on how to getting Langchain up and running."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Installation:"}]},{"type":"text","value":" Since we already have our project initialized, let's add the Langchain Library ! In your python project, use the following command:"}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes catppuccin-mocha","code":"poetry add langchain\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#89B4FA;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"poetry"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E3A1"},"children":[{"type":"text","value":" add"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E3A1"},"children":[{"type":"text","value":" langchain\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This command will add the Langchain library inside your project."}]},{"type":"element","tag":"h4","props":{"id":"simple-chatbot-using-langchain-ollama"},"children":[{"type":"text","value":"Simple Chatbot using Langchain & Ollama"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's create a simple Chatbot"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"First, we need to import the what we need from Langchain"}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes catppuccin-mocha","code":"from langchain_community.llms import Ollama\nfrom langchain_core.prompts import PromptTemplate\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#CBA6F7"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CDD6F4"},"children":[{"type":"text","value":" langchain_community"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9399B2"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CDD6F4"},"children":[{"type":"text","value":"llms "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CBA6F7"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CDD6F4"},"children":[{"type":"text","value":" Ollama\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#CBA6F7"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CDD6F4"},"children":[{"type":"text","value":" langchain_core"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9399B2"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CDD6F4"},"children":[{"type":"text","value":"prompts "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CBA6F7"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CDD6F4"},"children":[{"type":"text","value":" PromptTemplate\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We will use environment variable to make our application more flexible. Let's install python-dotenv"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes catppuccin-mocha","code":"poetry add python-dotenv\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#89B4FA;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"poetry"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E3A1"},"children":[{"type":"text","value":" add"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E3A1"},"children":[{"type":"text","value":" python-dotenv\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Create a .env and add your local ip"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes catppuccin-mocha","code":"OLLAMA_BASE_URL=\"http://<local-ip>:11434\"\n","filename":".env","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#CDD6F4"},"children":[{"type":"text","value":"OLLAMA_BASE_URL"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#94E2D5"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E3A1"},"children":[{"type":"text","value":"\"http://<local-ip>:11434\"\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can use the environment variable with the following code :"}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes catppuccin-mocha","code":"import os\nfrom dotenv import load_dotenv\nload_dotenv()\n\n# Define the base url for ollama\nOLLAMA_BASE_URL = os.getenv(\"OLLAMA_BASE_URL\")\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#CBA6F7"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CDD6F4"},"children":[{"type":"text","value":" os\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#CBA6F7"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CDD6F4"},"children":[{"type":"text","value":" dotenv "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CBA6F7"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CDD6F4"},"children":[{"type":"text","value":" load_dotenv\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#89B4FA"},"children":[{"type":"text","value":"load_dotenv"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9399B2"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6C7086;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"# Define the base url for ollama\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#CDD6F4"},"children":[{"type":"text","value":"OLLAMA_BASE_URL "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#94E2D5"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CDD6F4"},"children":[{"type":"text","value":" os"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9399B2"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#89B4FA"},"children":[{"type":"text","value":"getenv"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9399B2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E3A1"},"children":[{"type":"text","value":"\"OLLAMA_BASE_URL\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9399B2"},"children":[{"type":"text","value":")\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now let's create the LLM."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes catppuccin-mocha","code":"\nllm = Ollama(model=\"phi3\", base_url=OLLAMA_BASE_URL)\n\n# Create the prompt template\nprompt_template = \"\"\"<|system|You are an helpful Assistant. Your goal is to answer the user as best as you can<|end|>\n<|user|>What is the capital of france?<|end|><|assistant|>\nThe capital of France is Paris<|end|>\n<|user|>{question}<|end|><|assistant|>\n\"\"\"\n\nprompt = PromptTemplate.from_template(prompt_template)\nchain = prompt | llm\n\n\nchunks = []\nfor chunk in chain.stream({question: \"What is the color of the sky\"}):\n    print(chunk, end=\"\")\n    chunks.append(chunk)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#CDD6F4"},"children":[{"type":"text","value":"llm "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#94E2D5"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#89B4FA"},"children":[{"type":"text","value":" Ollama"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9399B2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#EBA0AC;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"model"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#94E2D5"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E3A1"},"children":[{"type":"text","value":"\"phi3\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9399B2"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#EBA0AC;--shiki-default-font-style:italic"},"children":[{"type":"text","value":" base_url"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#94E2D5"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CDD6F4"},"children":[{"type":"text","value":"OLLAMA_BASE_URL"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9399B2"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6C7086;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"# Create the prompt template\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#CDD6F4"},"children":[{"type":"text","value":"prompt_template "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#94E2D5"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E3A1"},"children":[{"type":"text","value":" \"\"\"<|system|You are an helpful Assistant. Your goal is to answer the user as best as you can<|end|>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E3A1"},"children":[{"type":"text","value":"<|user|>What is the capital of france?<|end|><|assistant|>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E3A1"},"children":[{"type":"text","value":"The capital of France is Paris<|end|>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E3A1"},"children":[{"type":"text","value":"<|user|>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F5C2E7"},"children":[{"type":"text","value":"{question}"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E3A1"},"children":[{"type":"text","value":"<|end|><|assistant|>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E3A1"},"children":[{"type":"text","value":"\"\"\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#CDD6F4"},"children":[{"type":"text","value":"prompt "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#94E2D5"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CDD6F4"},"children":[{"type":"text","value":" PromptTemplate"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9399B2"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#89B4FA"},"children":[{"type":"text","value":"from_template"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9399B2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CDD6F4"},"children":[{"type":"text","value":"prompt_template"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9399B2"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#CDD6F4"},"children":[{"type":"text","value":"chain "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#94E2D5"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CDD6F4"},"children":[{"type":"text","value":" prompt "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#94E2D5"},"children":[{"type":"text","value":"|"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CDD6F4"},"children":[{"type":"text","value":" llm\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#CDD6F4"},"children":[{"type":"text","value":"chunks "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#94E2D5"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9399B2"},"children":[{"type":"text","value":" []\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#CBA6F7"},"children":[{"type":"text","value":"for"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CDD6F4"},"children":[{"type":"text","value":" chunk "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CBA6F7"},"children":[{"type":"text","value":"in"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CDD6F4"},"children":[{"type":"text","value":" chain"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9399B2"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#89B4FA"},"children":[{"type":"text","value":"stream"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9399B2"},"children":[{"type":"text","value":"({"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CDD6F4"},"children":[{"type":"text","value":"question"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9399B2"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E3A1"},"children":[{"type":"text","value":" \"What is the color of the sky\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9399B2"},"children":[{"type":"text","value":"}):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#FAB387;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"    print"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9399B2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CDD6F4"},"children":[{"type":"text","value":"chunk"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9399B2"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#EBA0AC;--shiki-default-font-style:italic"},"children":[{"type":"text","value":" end"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#94E2D5"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E3A1"},"children":[{"type":"text","value":"\"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9399B2"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#CDD6F4"},"children":[{"type":"text","value":"    chunks"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9399B2"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#89B4FA"},"children":[{"type":"text","value":"append"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9399B2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CDD6F4"},"children":[{"type":"text","value":"chunk"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9399B2"},"children":[{"type":"text","value":")\n"}]}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"what-is-retrieval-augmented-generation-rag","depth":2,"text":"What is Retrieval-Augmented Generation (RAG) ?","children":[{"id":"why-rag-rocks-for-llms","depth":3,"text":"Why RAG Rocks for LLMS !"}]},{"id":"installation-of-the-tools-ollama-langchain-and-gradio","depth":2,"text":"Installation of the tools: Ollama, Langchain and Gradio","children":[{"id":"creating-the-python-project","depth":3,"text":"Creating the python project"},{"id":"ollama","depth":3,"text":"Ollama"},{"id":"langchain","depth":3,"text":"Langchain"}]}]}},"_type":"markdown","_id":"content:articles:creating-a-simple-chatbot-with-langchain-and-ollama.md","_source":"content","_file":"articles/creating-a-simple-chatbot-with-langchain-and-ollama.md","_extension":"md"}